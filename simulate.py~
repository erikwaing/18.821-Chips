board = {}
directions = [(1, 0), (0, 1), (-1, 0), (0, -1)]

def act(board):
    newboard = {}
    for sloc in board.keys():
        (x, y) = sloc
        if board[sloc] >= 4:
            for dir in directions:
                newx = x + dir[0]
                newy = y + dir[1]
                try:
                    newboard[(newx,newy)] = board[(newx, newy)] + 1
                except KeyError:
                    newboard[(newx, newy)] = 1
            try:
                newboard[(x,y)] += board[sloc] - 4
            except KeyError:
                newboard[(x,y)] = board[sloc] - 4
    return newboard

def printBoard(board):
    allX = [x for (x,y) in board.keys()]
    allY = [y for (x,y) in board.keys()]
    lowestX = min(allX)
    highestX = max(allX)
    lowestY = min(allY)
    highestY = max(allY)
    for y in range(lowestY, highestY+1):
        line = ''
        for x in range(lowestX, highestX+1):
            try:
                line += '| \t' + str(board[(x, y)]) + '\t'
            except KeyError:
                line += '| \t' + str(0) + '\t'
        print line
    
def actUntilStable(board):
    newboard = act(board)
    count = 0
    while cmp(newboard,board) != 0:
        printBoard(board)
        board = newboard
        input = raw_input()
        newboard = act(board)
        count += 1
    print "Number of acts = ", count

